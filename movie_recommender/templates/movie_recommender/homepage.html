<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Recommendation System</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #d32f2f;
            --secondary-color: #f44336;
            --accent-color: #ff9800;
            --dark-color: #1a1a1a;
            --light-color: #f5f5f5;
        }
        
        body {
            background: linear-gradient(135deg, #0f0f0f, #1a1a1a);
            min-height: 100vh;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: white;
        }
        
        .main-container {
            background: linear-gradient(135deg, #2d2d2d, #1a1a1a);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            margin-top: 30px;
            margin-bottom: 30px;
            border: 1px solid #333;
        }
        
        .header-section {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 30px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="film" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><rect x="0" y="0" width="20" height="20" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="2"/></pattern></defs><rect width="100" height="100" fill="url(%23film)"/></svg>');
        }
        
        .header-section h1 {
            font-weight: 700;
            font-size: 2.5rem;
            margin-bottom: 10px;
            position: relative;
        }
        
        .header-section p {
            font-size: 1.1rem;
            opacity: 0.9;
            position: relative;
        }
        
        .input-section {
            padding: 30px;
            border-right: 1px solid #333;
        }
        
        .result-section {
            padding: 30px;
            background: linear-gradient(135deg, #2d2d2d, #252525);
            min-height: 600px;
        }
        
        .form-control {
            background: #333;
            border: 2px solid #444;
            border-radius: 8px;
            padding: 12px;
            color: white;
            transition: all 0.3s;
        }
        
        .form-control:focus {
            background: #444;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.2rem rgba(211, 47, 47, 0.25);
            color: white;
        }
        
        .form-control::placeholder {
            color: #999;
        }
        
        .movie-card {
            background: linear-gradient(135deg, #333, #2a2a2a);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 4px solid var(--primary-color);
            transition: all 0.3s;
            border: 1px solid #444;
        }
        
        .movie-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border-left-color: var(--accent-color);
        }
        
        .movie-rank {
            position: absolute;
            top: -10px;
            left: -10px;
            background: var(--primary-color);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }
        
        .movie-poster {
            width: 80px;
            height: 120px;
            border-radius: 8px;
            object-fit: cover;
            background: linear-gradient(45deg, #333, #555);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 12px;
            text-align: center;
        }
        
        .movie-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
            color: white;
        }
        
        .movie-year {
            color: #ff9800;
            font-size: 14px;
            margin-bottom: 8px;
        }
        
        .movie-genres {
            font-size: 12px;
            color: #ccc;
            margin-bottom: 8px;
        }
        
        .movie-rating {
            background: rgba(255, 152, 0, 0.2);
            color: #ff9800;
            padding: 4px 8px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            border: 1px solid rgba(255, 152, 0, 0.3);
        }
        
        .similarity-score {
            background: rgba(76, 175, 80, 0.2);
            color: #4CAF50;
            padding: 4px 8px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            border: 1px solid rgba(76, 175, 80, 0.3);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border: none;
            padding: 12px 30px;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(211, 47, 47, 0.4);
        }
        
        .footer-section {
            background-color: var(--dark-color);
            color: white;
            padding: 20px 0;
            text-align: center;
            border-top: 1px solid #333;
        }
        
        .search-group {
            background: linear-gradient(135deg, #333, #2a2a2a);
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid #444;
        }
        
        .recommendation-header {
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        .no-results {
            text-align: center;
            color: #666;
            padding: 40px 0;
        }
        
        .movie-overview {
            font-size: 13px;
            color: #aaa;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        @media (max-width: 768px) {
            .input-section {
                border-right: none;
                border-bottom: 1px solid #333;
            }
        }
    </style>
</head>
<body>
    <div class="container main-container">
        <!-- Header Section -->
        <div class="header-section">
            <h1><i class="fas fa-film me-2"></i>Movie Recommendation System</h1>
            <p>Discover your next favorite movie based on TMDB dataset</p>
        </div>
        
        <div class="row g-0">
            <!-- Input Section -->
            <div class="col-md-6 input-section">
                <h3 class="mb-4">Find Movie Recommendations</h3>
                
                <div class="search-group">
                    <form id="recommendationForm">
                        <div class="mb-3">
                            <label for="movieTitle" class="form-label">Enter Movie Title</label>
                            <input type="text" class="form-control" id="movieTitle" placeholder="e.g., The Dark Knight, Inception, Avatar..." required>
                            <div class="form-text">We'll find the most similar movies from our TMDB database</div>
                        </div>
                        
                        <div class="d-grid mt-4">
                            <button type="button" class="btn btn-primary btn-lg" id="recommendBtn">
                                <i class="fas fa-search me-2"></i>Find Recommendations
                            </button>
                        </div>
                    </form>
                </div>
                
                <!-- Popular Movies Suggestion -->
                <div class="search-group">
                    <h6><i class="fas fa-fire me-2"></i>Popular Movies to Try:</h6>
                    <div class="d-flex flex-wrap gap-2 mt-2">
                        <span class="badge bg-secondary" style="cursor: pointer;" onclick="setMovieTitle('The Dark Knight')">The Dark Knight</span>
                        <span class="badge bg-secondary" style="cursor: pointer;" onclick="setMovieTitle('Inception')">Inception</span>
                        <span class="badge bg-secondary" style="cursor: pointer;" onclick="setMovieTitle('Avatar')">Avatar</span>
                        <span class="badge bg-secondary" style="cursor: pointer;" onclick="setMovieTitle('Pulp Fiction')">Pulp Fiction</span>
                        <span class="badge bg-secondary" style="cursor: pointer;" onclick="setMovieTitle('The Godfather')">The Godfather</span>
                    </div>
                </div>
            </div>
            
            <!-- Result Section -->
            <div class="col-md-6 result-section">
                <div class="recommendation-header">
                    <h3 class="mb-0">Top Recommendations</h3>
                    <small class="text-muted">Based on TMDB similarity scoring</small>
                </div>
                
                <div id="defaultMessage">
                    <div class="no-results">
                        <i class="fas fa-film" style="font-size: 60px; color: #444; margin-bottom: 15px;"></i>
                        <p class="lead">Enter a movie title to get personalized recommendations</p>
                        <p class="text-muted">We'll show you the top 5 most similar movies</p>
                    </div>
                </div>
                
                <div id="resultContainer" style="display: none;">
                    <div id="recommendationsList">
                        <!-- Recommendations will be inserted here -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Footer Section -->
    <footer class="footer-section">
        <div class="container">
            <p class="mb-1">Developer: <strong>Faisal Zamir</strong></p>
            <p class="mb-1">
                <i class="fas fa-envelope me-1"></i>
                <a href="mailto:JafriCode@gmail.com" style="color: white;">JafriCode@gmail.com</a>
            </p>
            <p class="mb-0">
                <i class="fab fa-whatsapp me-1"></i>
                <a href="https://wa.me/923429376519" target="_blank" style="color: white;">+92 342 9376519</a>
            </p>
        </div>
    </footer>

    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Sample TMDB movie data (replace with your actual data)
        const movieDatabase = {
            'The Dark Knight': {
                year: 2008,
                rating: 9.0,
                genres: ['Action', 'Crime', 'Drama'],
                overview: 'When the menace known as the Joker wreaks havoc and chaos on the people of Gotham, Batman must accept one of the greatest psychological and physical tests of his ability to fight injustice.'
            },
            'Inception': {
                year: 2010,
                rating: 8.8,
                genres: ['Action', 'Adventure', 'Sci-Fi'],
                overview: 'A thief who steals corporate secrets through the use of dream-sharing technology is given the inverse task of planting an idea into the mind of a C.E.O.'
            },
            'Avatar': {
                year: 2009,
                rating: 7.8,
                genres: ['Action', 'Adventure', 'Fantasy'],
                overview: 'A paraplegic Marine dispatched to the moon Pandora on a unique mission becomes torn between following his orders and protecting the world he feels is his home.'
            },
            'Pulp Fiction': {
                year: 1994,
                rating: 8.9,
                genres: ['Crime', 'Drama'],
                overview: 'The lives of two mob hitmen, a boxer, a gangster and his wife, and a pair of diner bandits intertwine in four tales of violence and redemption.'
            },
            'The Godfather': {
                year: 1972,
                rating: 9.2,
                genres: ['Crime', 'Drama'],
                overview: 'The aging patriarch of an organized crime dynasty transfers control of his clandestine empire to his reluctant son.'
            },
            'The Shawshank Redemption': {
                year: 1994,
                rating: 9.3,
                genres: ['Drama'],
                overview: 'Two imprisoned men bond over a number of years, finding solace and eventual redemption through acts of common decency.'
            },
            'Forrest Gump': {
                year: 1994,
                rating: 8.8,
                genres: ['Drama', 'Romance'],
                overview: 'The presidencies of Kennedy and Johnson, the Vietnam War, the Watergate scandal and other historical events unfold from the perspective of an Alabama man with an IQ of 75.'
            },
            'The Matrix': {
                year: 1999,
                rating: 8.7,
                genres: ['Action', 'Sci-Fi'],
                overview: 'A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers.'
            }
        };

        document.addEventListener('DOMContentLoaded', function() {
            const recommendBtn = document.getElementById('recommendBtn');
            const defaultMessage = document.getElementById('defaultMessage');
            const resultContainer = document.getElementById('resultContainer');
            const recommendationsList = document.getElementById('recommendationsList');

            // Recommend button click event
            recommendBtn.addEventListener('click', function() {
                const movieTitle = document.getElementById('movieTitle').value.trim();
                
                if (!movieTitle) {
                    alert('Please enter a movie title.');
                    return;
                }
                
                // Show loading state
                recommendBtn.disabled = true;
                recommendBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Searching...';
                
                // Simulate API call - Replace this with your Django endpoint
                setTimeout(function() {
                    // Generate sample recommendations
                    const recommendations = generateRecommendations(movieTitle);
                    
                    // Update UI with results
                    updateRecommendations(recommendations, movieTitle);
                    
                    // Show result container
                    defaultMessage.style.display = 'none';
                    resultContainer.style.display = 'block';
                    
                    // Reset button
                    recommendBtn.disabled = false;
                    recommendBtn.innerHTML = '<i class="fas fa-search me-2"></i>Find Recommendations';
                }, 1500);
            });
            
            function generateRecommendations(inputMovie) {
                // Sample recommendation logic - Replace with your actual algorithm
                const allMovies = Object.keys(movieDatabase);
                const recommendations = [];
                
                // Remove input movie from recommendations
                const availableMovies = allMovies.filter(movie => 
                    movie.toLowerCase() !== inputMovie.toLowerCase()
                );
                
                // Generate 5 recommendations with similarity scores
                for (let i = 0; i < 5 && i < availableMovies.length; i++) {
                    const movie = availableMovies[i];
                    const similarityScore = (Math.random() * 20 + 80).toFixed(1); // 80-100% similarity
                    
                    recommendations.push({
                        title: movie,
                        rank: i + 1,
                        similarity: parseFloat(similarityScore),
                        ...movieDatabase[movie]
                    });
                }
                
                // Sort by similarity score (descending)
                return recommendations.sort((a, b) => b.similarity - a.similarity);
            }
            
            function updateRecommendations(recommendations, inputMovie) {
                recommendationsList.innerHTML = '';
                
                if (recommendations.length === 0) {
                    recommendationsList.innerHTML = `
                        <div class="no-results">
                            <i class="fas fa-exclamation-triangle" style="font-size: 40px; color: #666; margin-bottom: 15px;"></i>
                            <p>No recommendations found for "${inputMovie}"</p>
                            <p class="text-muted">Try a different movie title</p>
                        </div>
                    `;
                    return;
                }
                
                recommendations.forEach(movie => {
                    const movieCard = document.createElement('div');
                    movieCard.className = 'movie-card position-relative';
                    
                    movieCard.innerHTML = `
                        <div class="movie-rank">${movie.rank}</div>
                        <div class="row">
                            <div class="col-3">
                                <div class="movie-poster">
                                    <i class="fas fa-film"></i>
                                    <small>Poster</small>
                                </div>
                            </div>
                            <div class="col-9">
                                <div class="movie-title">${movie.title}</div>
                                <div class="movie-year">${movie.year}</div>
                                <div class="movie-genres">${movie.genres.join(' â€¢ ')}</div>
                                <div class="movie-overview">${movie.overview}</div>
                                <div class="d-flex justify-content-between align-items-center mt-2">
                                    <span class="movie-rating">
                                        <i class="fas fa-star me-1"></i>${movie.rating}
                                    </span>
                                    <span class="similarity-score">
                                        ${movie.similarity}% Match
                                    </span>
                                </div>
                            </div>
                        </div>
                    `;
                    
                    recommendationsList.appendChild(movieCard);
                });
            }
        });
        
        // Helper function to set movie title from popular movies
        function setMovieTitle(title) {
            document.getElementById('movieTitle').value = title;
        }
    </script>
</body>
</html>